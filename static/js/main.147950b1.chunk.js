(this["webpackJsonpredux-movies"]=this["webpackJsonpredux-movies"]||[]).push([[0],{13:function(e,t,a){e.exports={container:"LoadableImage_container__3Zq2d",load:"LoadableImage_load__1PmC_",containerLoaded:"LoadableImage_containerLoaded__3e6TR",image:"LoadableImage_image__3XO0F",imageLoaded:"LoadableImage_imageLoaded__3w-V6"}},25:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);a(25);var r=a(1),c=a.n(r),n=a(7),s=a(3),i=a(0),o=function(){return Object(i.jsx)("nav",{className:"red darken-2",children:Object(i.jsxs)("div",{className:"nav-wrapper",children:[Object(i.jsx)("a",{href:"https://andrey-golubenko.github.io/react-movies",className:"brand-logo",children:"Movies"}),Object(i.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://github.com/Andrey-Golubenko/react-movies.git",children:"Repo"})})})]})})},l=function(){return Object(i.jsx)("footer",{className:"page-footer red darken-1",children:Object(i.jsx)("div",{className:"footer-copyright red darken-1",children:Object(i.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," Copyright Text",Object(i.jsx)("a",{className:"grey-text text-lighten-4 right",href:"https://github.com/Andrey-Golubenko/react-movies.git",children:"Repo"})]})})})},u=function(){return Object(i.jsx)("div",{className:"progress red accent-1",children:Object(i.jsx)("div",{className:"indeterminate red darken-3"})})},d=a(2),j=a.p+"static/media/image-placeholder.ee97e8e7.svg",p=a(12),b=a(13),h=a.n(b),m=a(11),O=function(){return Object(m.b)()},v=m.c;var x=function(e){var t=e.src,a=e.alt,c=void 0===a?"":a,n=e.onLoad,s=void 0===n?function(){}:n,o=Object(r.useState)(!1),l=Object(p.a)(o,2),u=l[0],d=l[1],j=Object(r.useRef)(null),b=Object(r.useRef)(null),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px",a=Object(r.useState)(!1),c=Object(p.a)(a,2),n=c[0],s=c[1];return Object(r.useEffect)((function(){var a=new IntersectionObserver((function(e){var t=Object(p.a)(e,1)[0];s(t.isIntersecting)}),{rootMargin:t});e.current&&a.observe(e.current);var r=e.current;return function(){a.unobserve(r)}}),[]),n}(b);Object(r.useEffect)((function(){m&&!u&&j.current&&(j.current.onload=function(){d(!0),s()})}),[m,s,u]);var O=[h.a.container];u&&O.push(h.a.containerLoaded);var v=[h.a.image];return u&&v.push(h.a.imageLoaded),Object(i.jsx)("div",{ref:b,className:O.join(" "),children:(m||u)&&Object(i.jsx)("img",{ref:j,className:v.join(" "),src:t,alt:c})})},f=function(e){var t=e.Title,a=e.Year,r=e.imdbID,c=e.Type,s=e.Poster;return Object(i.jsxs)("div",{id:r,className:"card",children:[Object(i.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(i.jsx)(x,{src:"N/A"===s?j:s})}),Object(i.jsxs)("div",{className:"card-content",children:[Object(i.jsx)("span",{className:"card-title activator grey-text text-darken-4",children:t}),Object(i.jsxs)("p",{children:[a,Object(i.jsx)("span",{className:"right",children:c})]})]}),Object(i.jsx)("div",{className:"card-action center",children:Object(i.jsx)(n.b,{to:"/movie/".concat(r),className:"btn red darken-3",children:"Watch details"})})]})},g=function(){var e=v((function(e){return e.moviesKEY.movieList}));return Object(i.jsx)("div",{className:"all-movies",children:(null===e||void 0===e?void 0:e.length)?e.map((function(e){return Object(i.jsx)(f,Object(d.a)({},e),e.imdbID)})):Object(i.jsx)("h2",{children:"Nothing found. Try again !"})})},y=a(14),E=a.n(y),P=a(20),_="MOVIES/FETCH_MOVIES",N="MOVIES/FETCH_SINGLE_MOVIE",S="MOVIES/GET_TOTAL_FOUND",T="APP/SHOW_LOADER",k="APP/HIDE_LOADER",A="APP/SHOW_ALERT",w="APP/HIDE_ALERT",R="SEARCH/DEFINE_SEARCH_VALUE",C="SEARCH/SET_SEARCHED_TYPE",L="SEARCH/SET_SEARCHED_PAGE_ADD",M="SEARCH/SET_SEARCHED_PAGE_REMOVE",I="SEARCH/SET_SEARCHED_PAGE_START";function D(){return{type:T}}function Y(){return{type:k}}function H(e){return{type:A,payload:{text:e}}}function F(){return{type:w}}function K(e){return{type:R,payload:{text:e}}}function V(e){return{type:C,payload:{searchedType:e}}}function G(){return{type:I}}var W=function(){var e=O(),t=Object(s.f)().push,a=Object(s.g)(),r=a.pathname,c=a.search,n=function(){var e=null,t="all";return c&&(e="&"+(e=c.split("&")[1]),t="null"!==(t=c.split("&")[2].split("=")[1])?t:"all"),{pureSearchParam:e,pureTypeParam:t}},o=function(a){var s=a.target.dataset.type;t({pathname:r,search:"".concat(c?n().pureSearchParam:"&s=matrix","&type=").concat("all"!==s?s:null)}),e(V(s||"all")),e(G())};return Object(i.jsxs)("div",{className:"check-list",children:[Object(i.jsx)("p",{className:"search-radio-movies",children:Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{name:"group-choice",type:"radio","data-type":"all",checked:"all"===n().pureTypeParam,onChange:o}),Object(i.jsx)("span",{children:"All"})]})}),Object(i.jsx)("p",{className:"search-radio-movies",children:Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{name:"group-choice",type:"radio","data-type":"movie",checked:"movie"===n().pureTypeParam,onChange:o}),Object(i.jsx)("span",{children:"Movies"})]})}),Object(i.jsx)("p",{className:"search-radio-movies",children:Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{name:"group-choice",type:"radio","data-type":"series",checked:"series"===n().pureTypeParam,onChange:o}),Object(i.jsx)("span",{children:"Series"})]})})]})},B=function(){var e=O(),t=v((function(e){return e.moviesKEY.totalFound})),a=Object(s.g)(),r=a.search,c=a.pathname,n=Object(s.f)().push,o=function(){var e=null,t="all",a=1;return r&&(e="&"+(e=r.split("&")[1]),t=r.split("&")[2].split("=")[1],a=r.split("&")[3]&&+r.split("&")[3].split("=")[1]||1),{pureSearchParam:e,pureTypeParam:t,purePageParam:a}};return Object(i.jsxs)("div",{className:"next-btn-wrapper",children:[Object(i.jsxs)("button",{className:"btn prev-btn red darken-2",onClick:function(){var t=o();t.purePageParam>1&&(n({pathname:c,search:"".concat(r?t.pureSearchParam:"&s=matrix","&type=").concat("all"!==t.pureTypeParam?t.pureTypeParam:null,"&page=").concat(t.purePageParam-1)}),e({type:M}))},children:[Object(i.jsx)("span",{children:"<"}),"Prev Page"]}),Object(i.jsxs)("h5",{className:"current-page",children:["Current page : ",t?o().purePageParam:1]}),Object(i.jsxs)("button",{className:"btn next-btn red darken-2",onClick:function(){var a=o();a.purePageParam<Math.ceil(t/10)&&(n({pathname:c,search:"".concat(r?a.pureSearchParam:"&s=matrix","&type=").concat("all"!==a.pureTypeParam?a.pureTypeParam:null,"&page=").concat(a.purePageParam+1)}),e({type:L}))},children:["Next Page",Object(i.jsx)("span",{children:">"})]})]})},q=function(){var e=v((function(e){return e.appKEY.alert}));return Object(i.jsx)("div",{className:"alert alert-danger",role:"alert",children:e})},J=function(){var e=Object(r.useRef)(null),t=O(),a=v((function(e){return e.moviesKEY.totalFound})),c=v((function(e){return e.appKEY.alert})),n=v((function(e){return e.searchKEY.searchVal})),o=Object(s.g)(),l=o.pathname,u=o.search,d=Object(s.f)().push,j=function(){var e="",t="all";return u&&(e=u.split("&")[1].split("=")[1],t="null"!==(t=u.split("&")[2].split("=")[1])?t:"all"),{pureSearchParam:e,pureTypeParam:t}},p=function(e){"Enter"!==e.key&&"btn search-btn red darken-1"!==e.currentTarget.className||(d({pathname:l,search:"&s=".concat(n,"&type=").concat("all"!==j().pureTypeParam?j().pureTypeParam:null)}),t(G()),t(K("")),t(V(j().pureTypeParam)))};return Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"col s12",children:[Object(i.jsxs)("div",{className:"input-field search-field",children:[Object(i.jsx)("input",{ref:e,className:"validate",placeholder:"Search",type:"search",value:n,onChange:function(){t(K(e.current.value))},onKeyPress:p}),Object(i.jsx)("button",{className:"btn search-btn red darken-1",onClick:p,children:"Search"})]}),c&&Object(i.jsx)(q,{}),Object(i.jsx)(W,{}),Object(i.jsxs)("h5",{className:"total-found",children:[j().pureSearchParam&&a?"On request : '".concat(j().pureSearchParam,"', type : '").concat(j().pureTypeParam,"'  -  total found : ").concat(a," results"):"Total ".concat(a||"not found"," movies and series"),a?" on "+Math.ceil(a/10)+" pages":""]}),Object(i.jsx)(B,{})]})})},U=function(){var e=O(),t=v((function(e){return e.appKEY.loadingStatus})),a=Object(s.g)().search;return Object(r.useEffect)((function(){e(function(e){var t=e.substring(1);return function(){var e=Object(P.a)(E.a.mark((function e(a){var r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(F()),a(D()),e.next=5,fetch("https://www.omdbapi.com/?apikey=f1e70387".concat(t||"&s=matrix"));case 5:return r=e.sent,e.next=8,r.json();case 8:if(c=e.sent,a({type:_,payload:{fetchedMovies:c.Search}}),a({type:S,payload:{totalFound:c.totalResults}}),a(Y()),r.ok){e.next=14;break}throw new Error;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),a(H("Server Error! Please, try again later.")),a(Y());case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()}(a))}),[e,a]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(J,{}),t?Object(i.jsx)(u,{}):Object(i.jsx)(g,{}),Object(i.jsx)(B,{})]})},X=function(){var e=Object(s.h)().id,t=O(),a=v((function(e){return e.appKEY.loadingStatus})),c=v((function(e){return e.moviesKEY.singleMovie})),n=Object(s.f)().goBack;return Object(r.useEffect)((function(){var a;t((a="&i=".concat(e,"&plot=full"),function(){var e=Object(P.a)(E.a.mark((function e(t){var r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(F()),t(D()),e.next=5,fetch("https://www.omdbapi.com/?apikey=f1e70387".concat(a));case 5:return r=e.sent,e.next=8,r.json();case 8:if(c=e.sent,t({type:N,payload:{fetchedSingleMovie:c}}),t(Y()),r.ok){e.next=13;break}throw new Error;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),t(H("Server Error! Please, try again later.")),t(Y());case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()))}),[t,e]),Object(i.jsx)(i.Fragment,{children:a?Object(i.jsx)(u,{}):Object(i.jsxs)("div",{className:"single-movie center",children:[Object(i.jsxs)("div",{className:"single-movie__content",children:[Object(i.jsx)("div",{className:"content__image",children:Object(i.jsx)(x,{src:c.Poster})}),Object(i.jsxs)("div",{className:"content__description",children:[Object(i.jsx)("h4",{children:c.Title}),Object(i.jsxs)("h5",{className:"description__data",children:["Year : ",c.Year]}),Object(i.jsxs)("h5",{className:"description__data",children:["Country : ",c.Country]}),Object(i.jsxs)("h5",{className:"description__data",children:["Runtime : ",c.Runtime]}),Object(i.jsxs)("h5",{className:"description__data",children:["Genre : ",c.Genre]}),Object(i.jsxs)("h5",{className:"description__data",children:["Language : ",c.Language]}),Object(i.jsxs)("h5",{className:"description__data",children:["Director : ",c.Director]}),Object(i.jsxs)("h5",{className:"description__data",children:["Actors : ",c.Actors]}),Object(i.jsxs)("p",{className:"description__plot",children:[Object(i.jsx)("span",{className:"description__data",children:"Plot : "}),c.Plot]})]})]}),Object(i.jsx)("button",{className:"btn",onClick:n,children:"Go Back"})]})})},Z=function(){return Object(i.jsxs)(n.a,{basename:"/react-movies",children:[Object(i.jsx)(o,{}),Object(i.jsx)("main",{className:"container content",children:Object(i.jsxs)(s.c,{children:[Object(i.jsx)(s.a,{exact:!0,path:"/",component:U}),Object(i.jsx)(s.a,{path:"/movie/:id",component:X})]})}),Object(i.jsx)(l,{})]})},z=a(15),Q=a.n(z),$=a(9),ee={movieList:[],totalFound:0,singleMovie:{}};var te={loadingStatus:!1,alert:null};var ae={searchVal:"",searchedType:"all",currentPage:1};var re=Object($.combineReducers)({moviesKEY:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(d.a)(Object(d.a)({},e),{},{movieList:t.payload.fetchedMovies});case S:return Object(d.a)(Object(d.a)({},e),{},{totalFound:Number(t.payload.totalFound)});case N:return Object(d.a)(Object(d.a)({},e),{},{singleMovie:t.payload.fetchedSingleMovie});default:return e}},appKEY:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{loadingStatus:!0});case k:return Object(d.a)(Object(d.a)({},e),{},{loadingStatus:!1});case A:return Object(d.a)(Object(d.a)({},e),{},{alert:t.payload.text});case w:return Object(d.a)(Object(d.a)({},e),{},{alert:null});default:return e}},searchKEY:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(d.a)(Object(d.a)({},e),{},{searchVal:t.payload.text});case C:return Object(d.a)(Object(d.a)({},e),{},{searchedType:t.payload.searchedType});case L:return Object(d.a)(Object(d.a)({},e),{},{currentPage:e.currentPage+1});case M:return Object(d.a)(Object(d.a)({},e),{},{currentPage:e.currentPage-1});case I:return Object(d.a)(Object(d.a)({},e),{},{currentPage:1});default:return e}}}),ce=a(23),ne=a(24),se=Object($.createStore)(re,Object(ce.composeWithDevTools)(Object($.applyMiddleware)(ne.a)));Q.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(m.a,{store:se,children:Object(i.jsx)(Z,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.147950b1.chunk.js.map